<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Simple Stopwatch</title>
	<script type="text/javascript" src="../index.js"></script>
	<style type="text/css">

		h1, h2 { font-family: "Trebuchet MS", Helvetica, sans-serif; color: #959595; }

	</style>
</head>

<body>

	<h1>Simple Stopwatch</h1>

	<h2 id="output"><h2>

	<button onclick="javascript:start();">start</button>
	<button onclick="javascript:stop();">stop</button>
	<button onclick="javascript:reset();">reset</button>
	<button onclick="javascript:format();">format</button>

	<script type="text/javascript">

		var output = document.getElementById('output');

		var formats = ['%h:%m:%s:%ms', '%dh:%dm:%ds:%dms'];

		window.stopwatch = simpleStopwatch(70000, formats[0], 100)

		stopwatch
		.on('start', updateTime)
		.on('stop', updateTime)
		.on('reset', updateTime)
		.on('tick', updateTime)
		.on('dong', ended);

		function start () {

			stopwatch.start();

		}

		function stop (time) {

			stopwatch.stop();

		}

		function reset () {

			stopwatch.reset();

		}

		function updateTime (time) {

			output.innerHTML = time;

		}

		function ended (time) {

			output.innerHTML = time + ' - dong!';

		}

		function format () {

			var fmt = stopwatch.format() == formats[0] ? formats[1] : formats[0];
			
			stopwatch.format( fmt );

		}

	</script>
</body>
</html>